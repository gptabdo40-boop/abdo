# خُردة - متجر قطع السيارات الإلكتروني

متجر إلكتروني متكامل ومتجاوب لبيع وشراء قطع السيارات المستعملة في ليبيا، مبني باستخدام تقنيات حديثة مع Supabase كواجهة خلفية قوية.

## 🚀 المميزات

### للمشترين
- **تصفح المنتجات**: عرض شامل لقطع السيارات المتوفرة
- **بحث وفلترة ذكية**: البحث حسب نوع القطعة، السيارة، المدينة، والحالة
- **سلة التسوق**: إضافة المنتجات وإدارة الطلبات
- **نظام الطلبات**: إتمام الشراء مع معلومات التوصيل
- **تواصل مع التجار**: إرسال استفسارات مباشرة

### للتجار
- **لوحة تحكم شاملة**: إدارة المنتجات والطلبات
- **إضافة المنتجات**: رفع قطع السيارات مع الصور والتفاصيل
- **نظام الاشتراكات**: باقات مختلفة حسب الاحتياجات
- **رسائل العملاء**: استقبال والرد على الاستفسارات
- **تحليلات النشاط**: إحصائيات المشاهدات والتفاعل

## 🛠️ التقنيات المستخدمة

### Frontend
- **HTML5 & CSS3**: تصميم متجاوب وحديث
- **JavaScript (ES6+)**: تفاعل ديناميكي
- **Font Awesome**: أيقونات احترافية
- **Google Fonts (Cairo)**: خط عربي جميل

### Backend
- **Node.js**: بيئة تشغيل JavaScript
- **Express.js**: إطار عمل الخادم
- **Supabase**: قاعدة بيانات وخدمات المصادقة

### Database
- **PostgreSQL**: قاعدة بيانات قوية ومرنة
- **Row Level Security**: حماية البيانات
- **Real-time subscriptions**: تحديثات فورية

## 📁 هيكل المشروع

```
my-ecommerce-website/
├── config/
│   └── database.js          # إعدادات قاعدة البيانات
├── models/
│   ├── Product.js           # نموذج المنتج
│   ├── User.js              # نموذج المستخدم
│   └── Order.js             # نموذج الطلب
├── routes/
│   ├── products.js          # مسارات المنتجات
│   ├── auth.js              # مسارات المصادقة
│   └── orders.js            # مسارات الطلبات
├── public/
│   ├── index.html           # الملف الرئيسي
│   ├── css/                 # ملفات الـ CSS
│   │   ├── main.css
│   │   ├── components.css
│   │   └── responsive.css
│   └── js/                  # ملفات الـ JavaScript
│       ├── config.js
│       ├── api.js
│       ├── auth.js
│       ├── products.js
│       ├── cart.js
│       ├── dashboard.js
│       └── main.js
├── database/
│   └── init.sql             # ملف إنشاء قاعدة البيانات
├── server.js                # ملف الخادم الرئيسي
├── package.json
└── README.md
```

## 🚀 التثبيت والتشغيل

### 1. متطلبات النظام
- Node.js (الإصدار 18 أو أحدث)
- حساب Supabase
- محرر نصوص (VS Code مُوصى به)

### 2. إعداد المشروع

```bash
# استنساخ المشروع
git clone https://github.com/your-username/khurda-ecommerce.git
cd khurda-ecommerce

# تثبيت التبعيات
npm install

# إنشاء ملف البيئة
cp .env.example .env
```

### 3. إعداد Supabase

1. **إنشاء مشروع جديد** في [Supabase](https://supabase.com)
2. **نسخ معلومات الاتصال** من لوحة تحكم Supabase
3. **تحديث ملف `.env`** بالمعلومات الصحيحة:

```env
SUPABASE_URL=your-supabase-project-url
SUPABASE_ANON_KEY=your-supabase-anon-key
```

4. **تشغيل SQL Script** في Supabase SQL Editor:
   - انسخ محتوى ملف `database/init.sql`
   - الصقه في SQL Editor وشغله

### 4. تشغيل المشروع

```bash
# تشغيل الخادم
npm start

# أو للتطوير مع إعادة التشغيل التلقائي
npm run dev
```

المشروع سيعمل على: `http://localhost:3000`

## 🔧 الإعداد والتخصيص

### إعداد المدن والحالات
يمكنك تخصيص قائمة المدن وحالات القطع في ملف `public/js/config.js`:

```javascript
const CONFIG = {
  CITIES: [
    'طرابلس', 'بنغازي', 'مصراتة', 'الزاوية', 'البيضاء'
    // أضف المدن الأخرى
  ],
  CONDITIONS: [
    'جديدة', 'شبه جديدة', 'ممتازة', 'جيد جداً'
    // أضف الحالات الأخرى
  ]
};
```

### تخصيص الباقات
يمكن تعديل باقات الاشتراك في نفس الملف:

```javascript
PACKAGES: {
  free: { name: 'الباقة المجانية', products: 30, price: 0, days: 7 },
  bronze: { name: 'الباقة البرونزية', products: 65, price: 29, days: 30 }
  // أضف أو عدل الباقات
}
```

## 🔐 الأمان

### Row Level Security (RLS)
- تم تفعيل RLS على جميع الجداول
- سياسات أمان مخصصة لكل نوع مستخدم
- حماية البيانات الشخصية والتجارية

### المصادقة
- نظام مصادقة آمن عبر Supabase Auth
- تشفير كلمات المرور
- إدارة الجلسات بشكل آمن

## 📱 التصميم المتجاوب

المشروع مُحسن للعمل على جميع الأجهزة:
- **الهواتف الذكية**: تصميم مُحسن للشاشات الصغيرة
- **الأجهزة اللوحية**: تخطيط متوازن
- **أجهزة الكمبيوتر**: استغلال كامل للمساحة

## 🎨 التخصيص البصري

### الألوان الرئيسية
- **البرتقالي**: `#ff9800` (اللون الأساسي)
- **الأبيض**: `#ffffff` (الخلفية)
- **الرمادي**: `#f7f7f7` (الخلفية الثانوية)

### الخطوط
- **Cairo**: خط عربي حديث وواضح
- **Font Awesome**: أيقونات احترافية

## 🔄 API Endpoints

### المصادقة
- `POST /api/auth/register` - إنشاء حساب جديد
- `POST /api/auth/login` - تسجيل الدخول
- `POST /api/auth/logout` - تسجيل الخروج
- `GET /api/auth/me` - معلومات المستخدم الحالي

### المنتجات
- `GET /api/products` - جلب جميع المنتجات
- `GET /api/products/:id` - جلب منتج محدد
- `POST /api/products` - إضافة منتج جديد
- `PUT /api/products/:id` - تحديث منتج
- `DELETE /api/products/:id` - حذف منتج

### الطلبات
- `POST /api/orders` - إنشاء طلب جديد
- `GET /api/orders/my-orders` - طلبات المستخدم
- `GET /api/orders/:id` - تفاصيل طلب محدد

## 🧪 الاختبار

```bash
# تشغيل الاختبارات (سيتم إضافتها لاحقاً)
npm test

# فحص الصحة
curl http://localhost:3000/api/health
```

## 📈 الأداء والتحسين

### تحسينات مُطبقة
- **تحميل الصور البطيء**: `loading="lazy"`
- **ضغط الملفات**: تقليل حجم CSS و JS
- **فهرسة قاعدة البيانات**: استعلامات سريعة
- **التخزين المؤقت**: تحسين الأداء

### مراقبة الأداء
- استخدم أدوات المطور في المتصفح
- راقب استعلامات قاعدة البيانات في Supabase
- تتبع أخطاء JavaScript

## 🚀 النشر

### Vercel (مُوصى به)
```bash
# تثبيت Vercel CLI
npm i -g vercel

# نشر المشروع
vercel
```

### Netlify
```bash
# بناء المشروع
npm run build

# رفع مجلد public إلى Netlify
```

### خادم خاص
```bash
# تشغيل في وضع الإنتاج
NODE_ENV=production npm start
```

## 🤝 المساهمة

نرحب بمساهماتكم! يرجى:

1. **Fork** المشروع
2. إنشاء **branch** جديد للميزة
3. **Commit** التغييرات
4. **Push** إلى البرانش
5. فتح **Pull Request**

### إرشادات المساهمة
- اتبع نمط الكود الموجود
- أضف تعليقات واضحة
- اختبر التغييرات قبل الإرسال
- حدث الوثائق عند الحاجة

## 📞 الدعم والتواصل

- **البريد الإلكتروني**: support@khurda.ly
- **واتساب**: +218-91-xxxxxxx
- **GitHub Issues**: لتقارير الأخطاء والاقتراحات

## 📄 الترخيص

هذا المشروع مرخص تحت رخصة MIT - راجع ملف [LICENSE](LICENSE) للتفاصيل.

## 🙏 شكر وتقدير

- **Supabase** - قاعدة البيانات والخدمات
- **Pexels** - الصور المجانية
- **Font Awesome** - الأيقونات
- **Google Fonts** - خط Cairo

---

**خُردة** - السوق الليبي لقطع السيارات المستعملة 🇱🇾

*صُنع بـ ❤️ في ليبيا*